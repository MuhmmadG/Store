<UserControl x:Class="SparePartsWarehouse.UI.Views.MachineSparePartsCostView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SparePartsWarehouse.UI.Views"
        mc:Ignorable="d"
        FlowDirection="RightToLeft">

    <Grid Margin="10">
        <StackPanel Orientation="Vertical">

            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <ComboBox
    Width="200"
    Margin="0,0,10,0"
    ItemsSource="{Binding Departments}"
    SelectedItem="{Binding SelectedDepartment, Mode=TwoWay}"
    DisplayMemberPath="Name"
    SelectedIndex="-1"
/>

                <ComboBox
    Width="200"
    ItemsSource="{Binding Machines}"
    SelectedItem="{Binding SelectedMachine, Mode=TwoWay}"
    DisplayMemberPath="MachineName"
    SelectedIndex="-1"
/>

                <TextBlock Text="من:" Margin="20,0,0,0" VerticalAlignment="Center"/>
                <DatePicker SelectedDate="{Binding FromDate}" Width="120"/>

                <TextBlock Text="إلى:" Margin="10,0,0,0" VerticalAlignment="Center"/>
                <DatePicker SelectedDate="{Binding ToDate}" Width="120"/>
                <Button Content="بحث"
        Width="80"
        Margin="10,0,0,0"
        Command="{Binding SearchCommand}"/>
                <Button Content="تصدير PDF"
        Width="80"
        Margin="0,0,100,0"
        Command="{Binding ExportPdfCommand}"/>

            </StackPanel>

            <DataGrid ItemsSource="{Binding Items}" AutoGenerateColumns="False" Margin="0,10" IsReadOnly="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="القسم"  MinWidth="100"
 Width="*"   ElementStyle="{StaticResource CenterCellText}" Binding="{Binding FactoryDepartmentName}"/>
                    <DataGridTextColumn Header="الماكينة"  MinWidth="100"
 Width="*"    ElementStyle="{StaticResource CenterCellText}" Binding="{Binding MachineName}"/>
                    <DataGridTextColumn Header="الفئة"  MinWidth="100"
 Width="*"  ElementStyle="{StaticResource CenterCellText}" Binding="{Binding CategoryName}"/>
                    <DataGridTextColumn Header="الصنف"  MinWidth="100"
 Width="*" ElementStyle="{StaticResource CenterCellText}" Binding="{Binding ItemName}"/>
                    <DataGridTextColumn Header="الوصف" 
                                         MinWidth="100"
 Width="*" ElementStyle="{StaticResource CenterCellText}" Binding="{Binding ItemCode}"/>
                    <DataGridTextColumn Header="الكمية"  MinWidth="100"
 Width="*" ElementStyle="{StaticResource CenterCellText}"  Binding="{Binding TotalQuantity}"/>
                    <DataGridTextColumn Header="التكلفة"   MinWidth="100"
 Width="*" ElementStyle="{StaticResource CenterCellText}" Binding="{Binding TotalCost, StringFormat=N2}"/>
                </DataGrid.Columns>
            </DataGrid>
        </StackPanel>
    </Grid>

</UserControl>
