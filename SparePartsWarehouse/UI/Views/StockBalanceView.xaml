<UserControl x:Class="SparePartsWarehouse.UI.Views.StockBalanceView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
       
        FlowDirection="RightToLeft">

    <Grid>

        <!-- تقسيم الشاشة -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- ========= ComboBox ========= -->
        <ComboBox
            Grid.Row="0"
            ItemsSource="{Binding Categories}"
            SelectedItem="{Binding SelectedCategory}"
            Width="260"
            Height="36"
            Margin="10"
            FontSize="14"
            Padding="10,4"
            HorizontalAlignment="Left"/>
        <Button
    Content="تصدير إلى PDF"
    Width="160"
    Height="36"
    Margin="0,0,100,0"
    HorizontalAlignment="Right"
    Command="{Binding ExportToPdfCommand}" />

        <!-- ========= DataGrid ========= -->
        <DataGrid
            Grid.Row="1"
            ItemsSource="{Binding FilteredItems}"
            AutoGenerateColumns="False"
            FontSize="14"
            Margin="10"
            CanUserAddRows="False"
            IsReadOnly="True"
            GridLinesVisibility="None"
            HeadersVisibility="Column"
            RowHeight="38"
            AlternationCount="2"
            BorderThickness="0">

            <!-- Style موحد لمحاذاة النص -->
            <DataGrid.Resources>
                <Style x:Key="CenterCellText" TargetType="TextBlock">
                    <Setter Property="HorizontalAlignment" Value="Center"/>
                    <Setter Property="TextAlignment" Value="Center"/>
                </Style>
            </DataGrid.Resources>

            <DataGrid.Columns>

                <DataGridTextColumn
                    Header="القسم"
                    Binding="{Binding CategoryName}"
                    Width="*"
                    ElementStyle="{StaticResource CenterCellText}" />

                <DataGridTextColumn
                    Header="اسم الصنف"
                    Binding="{Binding ItemName}"
                    Width="2*"
                    ElementStyle="{StaticResource CenterCellText}" />

                <DataGridTextColumn
                    Header="كود الصنف"
                    Binding="{Binding ItemCode}"
                    Width="*"
                    ElementStyle="{StaticResource CenterCellText}" />

                <DataGridTextColumn
                    Header="إجمالي الوارد"
                    Binding="{Binding TotalInQty}"
                    Width="*"
                    ElementStyle="{StaticResource CenterCellText}" />

                <DataGridTextColumn
                    Header="إجمالي المنصرف"
                    Binding="{Binding TotalOutQty}"
                    Width="*"
                    ElementStyle="{StaticResource CenterCellText}" />

                <DataGridTextColumn
                    Header="الرصيد الحالي"
                    Binding="{Binding BalanceQty}"
                    Width="*"
                    ElementStyle="{StaticResource CenterCellText}" />

            </DataGrid.Columns>
        </DataGrid>

    </Grid>
</UserControl>
