<UserControl x:Class="SparePartsWarehouse.UI.Views.PurchaseInDetailView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">


    <Grid FlowDirection="RightToLeft" Margin="10">

        <!-- تقسيم الصفوف -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- الفلاتر -->
            <RowDefinition Height="*"/>
            <!-- الجريد -->
            <RowDefinition Height="Auto"/>
            <!-- الأزرار -->
        </Grid.RowDefinitions>

        <!-- 🔹 الفلاتر -->
        <Border Grid.Row="0"
                Padding="10"
                Background="#F5F5F5"
                CornerRadius="6"
                Margin="0,0,0,10">

            <StackPanel Orientation="Horizontal">

                <TextBlock Text="المورد:"
                           VerticalAlignment="Center"
                           Margin="0,0,5,0"/>

                <ComboBox
                    Width="250"
                    ItemsSource="{Binding Suppliers}"
                    DisplayMemberPath="SupplierName"
                    SelectedItem="{Binding SelectedSupplier}"
                    Margin="0,0,15,0"/>

                <TextBlock Text="رقم الفاتورة:"
                           VerticalAlignment="Center"
                           Margin="0,0,5,0"/>

                <ComboBox
    Width="220"
    ItemsSource="{Binding Invoices}"
      
                    DisplayMemberPath="DisplayText"

                    SelectedItem="{Binding SelectedInvoice}"/>


            </StackPanel>
        </Border>

        <!-- 🔹 جدول الأصناف -->
        <DataGrid
            Grid.Row="1"
            ItemsSource="{Binding Items}"
            AutoGenerateColumns="False"
            CanUserAddRows="False"
            IsReadOnly="False"
            FontSize="14"
            Margin="0,0,0,10"
            AlternatingRowBackground="#FAFAFA"
            GridLinesVisibility="Horizontal">

            <DataGrid.Columns>

                <DataGridCheckBoxColumn
                     Header="✔"
    Binding="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
    Width="50"/>

                <DataGridTextColumn
                    Header="اسم الصنف"
                    Binding="{Binding ItemName}"
                    ElementStyle="{StaticResource CenterCellText}"
                    Width="2*"/>

                <DataGridTextColumn
                    Header="كود الصنف"
                    Binding="{Binding ItemCode}"
                    ElementStyle="{StaticResource CenterCellText}"
                    Width="*"/>

                <DataGridTextColumn
                    Header="الكمية"
                    Binding="{Binding Quantity}"
                    ElementStyle="{StaticResource CenterCellText}"
                    Width="*"/>

                <DataGridTextColumn
                    Header="سعر الوحدة"
                    ElementStyle="{StaticResource CenterCellText}"
                    Binding="{Binding UnitPrice}"
                    Width="*"/>

            </DataGrid.Columns>
        </DataGrid>

        <!-- 🔹 الأزرار -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Left">

            <Button
                Content="حذف الأصناف المحددة"
                Width="180"
                Margin="0,0,10,0"
                Command="{Binding DeleteSelectedItemsCommand}"/>

            <Button
                Content="حذف الفاتورة بالكامل"
                Width="180"
                Background="#C62828"
                Foreground="White"
                Command="{Binding DeleteInvoiceCommand}"/>

        </StackPanel>

    </Grid>
</UserControl>
